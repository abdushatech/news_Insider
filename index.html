/* dark-mode toggle */
const toggle = document.getElementById("theme-toggle");
const stored = localStorage.getItem("theme");
const prefers = window.matchMedia("(prefers-color-scheme: dark)").matches
  ? "dark"
  : "light";
document.documentElement.setAttribute("data-theme", stored || prefers);
toggle.addEventListener("click", () => {
  const current = document.documentElement.getAttribute("data-theme");
  const next = current === "dark" ? "light" : "dark";
  document.documentElement.setAttribute("data-theme", next);
  localStorage.setItem("theme", next);
});

/* filter buttons (still works) */
const buttons = document.querySelectorAll(".filter-btn");
buttons.forEach((btn) =>
  btn.addEventListener("click", () => {
    buttons.forEach((b) => b.classList.remove("active"));
    btn.classList.add("active");
    const tag = btn.dataset.tag;
    document.querySelectorAll(".card").forEach((card) => {
      card.style.display =
        tag === "all" || card.dataset.tags.includes(tag) ? "flex" : "none";
    });
  })
);
